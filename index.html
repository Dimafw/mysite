<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Аніме Чат | Берсерк & Токійський Гуль</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
        }
        
        #password-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #1a1a1a;
        }
        
        #password-screen h1 {
            color: #e74c3c;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(231, 76, 60, 0.5);
        }
        
        #password-input {
            padding: 12px 15px;
            width: 250px;
            border: 2px solid #e74c3c;
            border-radius: 5px;
            background-color: #222;
            color: white;
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        #login-btn {
            padding: 12px 30px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        #login-btn:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }
        
        #content {
            display: none;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 2px solid #e74c3c;
            margin-bottom: 30px;
        }
        
        h1 {
            color: #e74c3c;
            font-size: 2.5em;
        }
        
        h2 {
            color: #e74c3c;
            border-left: 4px solid #e74c3c;
            padding-left: 10px;
        }
        
        .quote-section {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }
        
        .quote-category {
            width: 48%;
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
        }
        
        .quote {
            background-color: #252525;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 3px solid #e74c3c;
            border-radius: 4px;
            position: relative;
        }
        
        .quote::before {
            content: '"';
            font-size: 50px;
            position: absolute;
            left: 10px;
            top: 5px;
            color: rgba(231, 76, 60, 0.2);
        }
        
        #chat-container {
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        
        #chat-messages {
            height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #252525;
            border-radius: 5px;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 10px 15px;
            background-color: #2c2c2c;
            border-radius: 5px;
            border-left: 3px solid #3498db;
        }
        
        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .user {
            font-weight: bold;
            color: #3498db;
        }
        
        .time {
            color: #7f8c8d;
            font-size: 0.8em;
        }
        
        #message-form {
            display: flex;
            gap: 10px;
        }
        
        #message-input {
            flex-grow: 1;
            padding: 12px;
            border: 2px solid #3498db;
            border-radius: 5px;
            background-color: #252525;
            color: white;
        }
        
        #send-btn {
            padding: 0 25px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        #send-btn:hover {
            background-color: #2980b9;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #7f8c8d;
            border-top: 1px solid #333;
        }
        
        @media (max-width: 768px) {
            .quote-section {
                flex-direction: column;
            }
            
            .quote-category {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Екран пароля -->
    <div id="password-screen">
        <h1>Вхід до Аніме Чату</h1>
        <input type="password" id="password-input" placeholder="Введіть пароль">
        <button id="login-btn" onclick="checkPassword()">Увійти</button>
    </div>

    <!-- Основний контент -->
    <div id="content">
        <header>
            <h1>Аніме Чат</h1>
            <p>Цитати з улюблених всесвітів та місце для спілкування</p>
        </header>
        
        <main>
            <!-- Секція з цитатами -->
            <section id="quotes">
                <h2>Цитати</h2>
                <div class="quote-section">
                    <div class="quote-category">
                        <h3>Берсерк</h3>
                        <div id="berserk-quotes"></div>
                    </div>
                    
                    <div class="quote-category">
                        <h3>Токійський Гуль</h3>
                        <div id="tokyo-ghoul-quotes"></div>
                    </div>
                </div>
            </section>
            
            <!-- Секція чату -->
            <section id="chat-container">
                <h2>Чат для спілкування</h2>
                <div id="chat-messages"></div>
                <form id="message-form" onsubmit="sendMessage(); return false;">
                    <input type="text" id="message-input" placeholder="Напишіть ваше повідомлення..." required>
                    <button type="submit" id="send-btn">Надіслати</button>
                </form>
            </section>
        </main>
        
        <footer>
            <p>© 2023 Аніме Чат | Усі права захищені</p>
        </footer>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    
    <script>
        // Конфігурація Firebase (замініть на свою!)
        const firebaseConfig = {
            apiKey : "AIzaSyDWYjerlRZLVlgFY1PFQbKuygB-lvtVSko" , 
            Домен авторизації : "chat-81bca.firebaseapp.com" , 
            URL-адреса бази даних : "https://chat-81bca-default-rtdb.europe-west1.firebasedatabase.app" , 
            Ідентифікатор проекту : "chat-81bca " 
            сховище даних : "chat-81bca.firebasestorage.app" , 
            Ідентифікатор відправника повідомлення : "802437825227" , 
            Ідентифікатор програми : "1:802437825227:web:e41d7b165494b0417e914e" , 
            Ідентифікатор вимірювання : "G-DPQXDTW51J"
        };

        // Ініціалізація Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Константи
        const PASSWORD = "Немен";
        let currentUser = "Гість" + Math.floor(Math.random() * 1000);
        let messages = [];

        // Цитати
        const berserkQuotes = [
            "Ти належиш мені. Від тепер твоє життя належить мені. Твої болючі дні закінчилися. Я не залишу тебе нікому.",
            "Людина не може нічого змінити без волі. Воля - це те, що веде людину вперед.",
            "Навіть якщо ти втратив причину жити, просто продовжуй жити. Можливо, знайдеш нову.",
            "Справжній воїн не потребує меча. Він може битися навіть голіруч.",
            "Життя - це не тільки страждання. У ньому є і світлі моменти, які варті того, щоб за них боротися."
        ];
        
        const tokyoGhoulQuotes = [
            "Цей світ хворий. Він хворий, тому що в ньому є такі речі, як я.",
            "Я не хочу бути правим, я хочу бути сильним! Сильним настільки, щоб ніхто не міг мене образити.",
            "Іноді треба вчитися програвати, щоб зрозуміти, як вигравати.",
            "Люди не змінюються, вони просто стають тими, ким вони є насправді.",
            "Якщо ти хочеш щось змінити, спочатку зміни себе. Іншого шляху немає."
        ];

        // Перевірка пароля
        function checkPassword() {
            const input = document.getElementById("password-input").value;
            if (input === PASSWORD) {
                document.getElementById("password-screen").style.display = "none";
                document.getElementById("content").style.display = "block";
                loadQuotes();
                initChat();
            } else {
                alert("Невірний пароль! Спробуйте ще раз.");
                document.getElementById("password-input").value = "";
            }
        }

        // Завантаження цитат
        function loadQuotes() {
            const berserkContainer = document.getElementById("berserk-quotes");
            const tokyoContainer = document.getElementById("tokyo-ghoul-quotes");
            
            berserkQuotes.forEach(quote => {
                const quoteElement = document.createElement("div");
                quoteElement.className = "quote";
                quoteElement.textContent = quote;
                berserkContainer.appendChild(quoteElement);
            });
            
            tokyoGhoulQuotes.forEach(quote => {
                const quoteElement = document.createElement("div");
                quoteElement.className = "quote";
                quoteElement.textContent = quote;
                tokyoContainer.appendChild(quoteElement);
            });
        }

        // Ініціалізація чату
        function initChat() {
            // Підписка на оновлення чату
            database.ref('messages').on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    messages = Object.values(data);
                    renderMessages();
                }
            });

            // Відправка повідомлення при натисканні Enter
            document.getElementById("message-input").addEventListener("keypress", (e) => {
                if (e.key === "Enter" && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
        }

        // Відправка повідомлення
        function sendMessage() {
            const input = document.getElementById("message-input");
            const text = input.value.trim();
            
            if (text) {
                const newMessage = {
                    user: currentUser,
                    text: text,
                    time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})
                };
                
                // Відправка в Firebase
                database.ref('messages').push(newMessage);
                input.value = "";
            }
        }

        // Відображення повідомлень
        function renderMessages() {
            const container = document.getElementById("chat-messages");
            container.innerHTML = "";
            
            messages.forEach(msg => {
                const messageElement = document.createElement("div");
                messageElement.className = "message";
                messageElement.innerHTML = `
                    <div class="message-header">
                        <span class="user">${msg.user}</span>
                        <span class="time">${msg.time}</span>
                    </div>
                    <div>${msg.text}</div>
                `;
                container.appendChild(messageElement);
            });
            
            // Автопрокрутка до останнього повідомлення
            container.scrollTop = container.scrollHeight;
        }

        // Автоматична перевірка пароля при натисканні Enter
        document.getElementById("password-input").addEventListener("keypress", (e) => {
            if (e.key === "Enter") {
                checkPassword();
            }
        });
    </script>
</body>
</html>
